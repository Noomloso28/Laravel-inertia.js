import{d as p,T as F,o as i,c as V,w as h,a as e,n as L,i as C,t as l,b as m,f as $,u as r,j as R,e as d,h as g,R as I,l as v,v as _,g as S,F as P,a1 as M}from"./app.js";import{_ as O}from"./AppLayout.js";import{_ as z}from"./TextInput.js";import{_ as x}from"./InputLabel.js";import{_ as B}from"./SecondaryButton.js";import"./_plugin-vue_export-helper.js";import"./LanguageSwitcher.js";const T={class:"flex flex-wrap mt-4"},K={class:"w-full mb-12 px-4"},q=["onSubmit"],H={class:"rounded-t bg-white mb-0 px-6 py-6"},J={class:"text-center flex justify-between"},Q={class:"text-blueGray-700 text-xl font-bold mr-2"},W={class:"flex-auto px-4 lg:px-10 py-10 pt-0"},X={class:"flex flex-wrap"},Y={class:"w-full lg:w-12/12 px-4"},Z={class:"relative w-full mb-3"},ee={key:0,class:"mt-2"},te=["src"],oe={key:1,class:"mt-2"},se={key:3,class:"text-red-600"},ae={class:"relative w-full mb-3"},le={key:0,class:"text-red-600"},re={class:"relative w-full mb-3 mt-6"},ne={class:"text-center flex justify-between"},ie={class:"flex items-center px-4 gap-1"},de={for:"select_all"},ue={class:"inline-flex space-x-1 w-1/2 lg:w-3/12 xl:w-2/12"},ce={class:"flex items-center px-4"},me=["id","value"],pe=["for"],fe={class:"relative w-full mb-3 mt-6"},ge={class:"text-center flex justify-between"},be={class:"flex items-center px-4 gap-1"},ye={for:"select_all_departments"},he={class:"inline-flex space-x-1 w-1/2 lg:w-3/12 xl:w-2/12"},ve={class:"flex items-center px-4"},_e=["id","value"],xe=["for"],we={class:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"submit"},Pe={__name:"Edit",props:{company:Object,settings:Array,catagories:Array,departments:Array,companyCategories:Array,companyDepartments:Array,color:{default:"light",validator:function(b){return["light","dark"].indexOf(b)!==-1}}},setup(b){const n=b,u=p(null),c=p(null),U=()=>{u.value.click(),A()},A=()=>{const t=u.value.files[0];if(!t)return;const o=new FileReader;o.onload=s=>{c.value=s.target.result},o.readAsDataURL(t)},j=t=>{confirm("Are you sure you want to Delete")&&(t!==null?M.delete(route("companies.delete.logo",t),{preserveScroll:!0,onSuccess:()=>{c.value=null,D()}}):(c.value=null,D()))},D=()=>{var t;(t=u.value)!=null&&t.value&&(u.value.value=null)},y=t=>{let o=null;if(n.settings){let s=n.settings.filter(f=>f.attribute_name===t);if(s.length>0)return s[0].attribute_value}return o},a=F({name:n.company.name,photo:null,companyCategories:n.companyCategories,companyDepartments:n.companyDepartments}),N=()=>{u.value&&(a.photo=u.value.files[0]),a.post(route("companies.update",n.company.id))},w=p(!0),G=()=>{a.companyCategories=p([]),n.catagories.forEach(t=>{let o=w.value?t.id:!1;a.companyCategories.push(o)})},k=p(!0),E=()=>{a.companyDepartments=p([]),n.departments.forEach(t=>{let o=k.value?t.id:!1;a.companyDepartments.push(o)})};return(t,o)=>(i(),V(O,{title:"Platform Companies"},{default:h(()=>[e("div",T,[e("div",K,[e("div",{class:L([[b.color==="light"?"bg-white":"bg-emerald-900 text-white"],"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded"])},[e("form",{onSubmit:C(N,["prevent"])},[e("div",H,[e("div",J,[e("h6",Q,l(t.$t("Manage")),1),m(r(R),{class:"bg-lightBlue-500 text-white active:bg-emerald-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",href:t.route("companies.index")},{default:h(()=>[$(l(t.$t("Back")),1)]),_:1},8,["href"])])]),e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[m(x,{for:"name",value:"Logo",class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"}),e("input",{ref_key:"photoInput",ref:u,type:"file",class:"hidden",onChange:A},null,544),!c.value&&y("logo")?(i(),d("div",ee,[e("img",{src:t.route("media.show",y("logo")??""),alt:"company logo",class:"rounded-full h-20 w-20 object-cover"},null,8,te)])):g("",!0),c.value?(i(),d("div",oe,[e("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:I("background-image: url('"+c.value+"');")},null,4)])):g("",!0),m(B,{class:"mt-2 mr-2",type:"button",onClick:C(U,["prevent"])},{default:h(()=>[$(l(t.$t("Select A Logo")),1)]),_:1},8,["onClick"]),c.value||y("logo")?(i(),V(B,{key:2,type:"button",class:"mt-2",onClick:o[0]||(o[0]=C(s=>j(y("logo")),["prevent"]))},{default:h(()=>[$(l(t.$t("Remove Photo")),1)]),_:1})):g("",!0),r(a).errors.photo?(i(),d("span",se,l(t.$t(r(a).errors.photo)),1)):g("",!0)]),e("div",ae,[m(x,{for:"name",value:"Name",class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"}),m(z,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:r(a).name,"onUpdate:modelValue":o[1]||(o[1]=s=>r(a).name=s),autofocus:""},null,8,["modelValue"]),r(a).errors.name?(i(),d("span",le,l(t.$t(r(a).errors.name)),1)):g("",!0)]),e("div",re,[e("div",ne,[m(x,{for:"categories",value:"Categories",class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"}),e("div",ie,[v(e("input",{id:"select_all",name:"select_all","onUpdate:modelValue":o[2]||(o[2]=s=>w.value=s),onChange:G,type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[_,w.value]]),e("label",de,l(t.$t("Select All")),1)])]),(i(!0),d(P,null,S(n.catagories,s=>(i(),d("div",ue,[e("div",ce,[v(e("input",{"onUpdate:modelValue":o[3]||(o[3]=f=>r(a).companyCategories=f),type:"checkbox",name:"category[]",id:"catagory-"+s.id,value:s.id,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,me),[[_,r(a).companyCategories]]),e("label",{class:"w-full py-4 ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"catagory-"+s.id},l(t.$t(s.name)),9,pe)])]))),256))]),e("div",fe,[e("div",ge,[m(x,{for:"departments",value:"Departments",class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"}),e("div",be,[v(e("input",{id:"select_all_departments",name:"select_all_departments","onUpdate:modelValue":o[4]||(o[4]=s=>k.value=s),onChange:E,type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[_,k.value]]),e("label",ye,l(t.$t("Select All")),1)])]),(i(!0),d(P,null,S(n.departments,s=>(i(),d("div",he,[e("div",ve,[v(e("input",{"onUpdate:modelValue":o[5]||(o[5]=f=>r(a).companyDepartments=f),type:"checkbox",name:"department[]",id:"department-"+s.id,value:s.id,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,_e),[[_,r(a).companyDepartments]]),e("label",{class:"w-full py-4 ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",for:"department-"+s.id},l(t.$t(s.name)),9,xe)])]))),256))]),e("button",we,l(t.$t("Update")),1)])])])],40,q)],2)])])]),_:1}))}};export{Pe as default};
