import{d as k,T as C,x as $,o as l,c as B,w as b,a as e,n as S,i as U,t as d,b as m,f as V,u as o,j as A,l as _,q as g,e as i,g as h,F as x,h as y}from"./app.js";import{_ as I}from"./AppLayout.js";import{_ as v}from"./InputLabel.js";import"./_plugin-vue_export-helper.js";import"./LanguageSwitcher.js";const N={class:"flex flex-wrap mt-4"},G={class:"w-full mb-12 px-4"},M=["onSubmit"],O={class:"rounded-t bg-white mb-0 px-6 py-6"},j={class:"text-center flex justify-between"},D={class:"text-blueGray-700 text-xl font-bold mr-2"},F={class:"flex-auto px-4 lg:px-10 py-10 pt-0"},T={class:"flex flex-wrap"},q={class:"w-full lg:w-12/12 px-4"},z={class:"relative w-full mb-6"},E=["value"],L=["value"],P={key:0,class:"text-red-600"},H={class:"relative w-full mb-6"},J=["value"],K=["value"],Q={key:0,class:"text-red-600"},R={class:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"submit"},te={__name:"Add",props:{companies:Array,users:Array,userCompanies:Array,color:{default:"light",validator:function(u){return["light","dark"].indexOf(u)!==-1}}},setup(u){const c=u,p=k([]),f=(a=0)=>{let r=c.userCompanies.filter(n=>n.company_id===a),s=[];return r.length>0&&(s=r.map(n=>n.user_id)),p.value=c.users.filter(n=>s.includes(n.id)===!1)??[]},t=C({company_id:"",user_id:""});$(()=>{t.company_id=localStorage.getItem("selectedOption")?parseInt(localStorage.getItem("selectedOption")):"",f(t.company_id)});const w=()=>{t.post(route("companies-user.save"))};return(a,r)=>(l(),B(I,{title:"Platform Companies"},{default:b(()=>[e("div",N,[e("div",G,[e("div",{class:S([[u.color==="light"?"bg-white":"bg-emerald-900 text-white"],"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded"])},[e("form",{onSubmit:U(w,["prevent"])},[e("div",O,[e("div",j,[e("h6",D,d(a.$t("Add")),1),m(o(A),{class:"bg-lightBlue-500 text-white active:bg-emerald-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",href:a.route("companies-user.lists")},{default:b(()=>[V(d(a.$t("Back")),1)]),_:1},8,["href"])])]),e("div",F,[e("div",T,[e("div",q,[e("div",z,[m(v,{for:"companies",value:"Companies",class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"}),_(e("select",{"onUpdate:modelValue":r[0]||(r[0]=s=>o(t).company_id=s),onChange:r[1]||(r[1]=s=>f(o(t).company_id)),name:"company_id",id:"companies",value:o(t).company_id,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(l(!0),i(x,null,h(c.companies,s=>(l(),i("option",{value:s.id},d(s.name),9,L))),256))],40,E),[[g,o(t).company_id]]),o(t).errors.company_id?(l(),i("span",P,d(a.$t(o(t).errors.company_id)),1)):y("",!0)]),e("div",H,[m(v,{for:"users",value:"Users",class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"}),_(e("select",{"onUpdate:modelValue":r[2]||(r[2]=s=>o(t).user_id=s),name:"user_id",id:"users",value:o(t).user_id,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(l(!0),i(x,null,h(p.value,s=>(l(),i("option",{value:s.id},d(s.name),9,K))),256))],8,J),[[g,o(t).user_id]]),o(t).errors.user_id?(l(),i("span",Q,d(a.$t(o(t).errors.user_id)),1)):y("",!0)]),e("button",R,d(a.$t("Create")),1)])])])],40,M)],2)])])]),_:1}))}};export{te as default};
