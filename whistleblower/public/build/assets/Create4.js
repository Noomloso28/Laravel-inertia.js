import{d as f,T as w,o as d,c as k,w as _,a as e,n as $,i as j,t as r,b as n,f as V,u as o,j as U,e as i,h as u,l as p,q as y,g as h,F as x,A as B}from"./app.js";import{_ as C}from"./AppLayout.js";import{_ as S}from"./TextInput.js";import{_ as m}from"./InputLabel.js";import"./_plugin-vue_export-helper.js";import"./LanguageSwitcher.js";const T={class:"flex flex-wrap mt-4"},G={class:"w-full mb-12 px-4"},L=["onSubmit"],M={class:"rounded-t bg-white mb-0 px-6 py-6"},N={class:"text-center flex justify-between"},A={class:"text-blueGray-700 text-xl font-bold mr-2"},E={class:"flex-auto px-4 lg:px-10 py-10 pt-0"},D={class:"flex flex-wrap"},F={class:"w-full lg:w-12/12 px-4"},q={class:"relative w-full mb-3"},z={key:0,class:"text-red-600"},H={class:"relative w-full mb-6"},O=["value"],P=["value"],I={key:0,class:"text-red-600"},J={class:"relative w-full mb-6"},K=["value"],Q=["value"],R={key:0,class:"text-red-600"},W={class:"relative w-full mb-6"},X={class:"flex"},Y={class:"w-full"},Z={class:"flex"},ee={class:"w-full"},te={class:"text-sm"},oe={key:0,class:"text-red-600"},ae={class:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",type:"submit"},ce={__name:"Create",props:{user_companies:Array,is_admin:f(Boolean),company_id:f(""),color:{default:"light",validator:function(c){return["light","dark"].indexOf(c)!==-1}}},setup(c){const b=c,t=w({subject:"",email_template:"",company_id:b.company_id,type:"occurrence.created"}),g=[{name:"Submited template",type:"occurrence.created"},{name:"Submited template for Login User",type:"occurrence.created.admin"},{name:"Updated template",type:"occurrence.updated"},{name:"Updated template for Login User",type:"occurrence.updated.admin"}],v=()=>{t.post(route("email.store"))};return(s,l)=>(d(),k(C,{title:"Platform Email"},{default:_(()=>[e("div",T,[e("div",G,[e("div",{class:$([[c.color==="light"?"bg-white":"bg-emerald-900 text-white"],"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded"])},[e("form",{onSubmit:j(v,["prevent"])},[e("div",M,[e("div",N,[e("h6",A,r(s.$t("E-mail Template Creator")),1),n(o(U),{class:"bg-lightBlue-500 text-white active:bg-emerald-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150",href:s.route("email.index")},{default:_(()=>[V(r(s.$t("Back")),1)]),_:1},8,["href"])])]),e("div",E,[e("div",D,[e("div",F,[e("div",q,[n(m,{for:"subject",value:"Subject",class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"}),n(S,{id:"subject",type:"text",class:"mt-1 block w-full",modelValue:o(t).subject,"onUpdate:modelValue":l[0]||(l[0]=a=>o(t).subject=a),autofocus:""},null,8,["modelValue"]),o(t).errors.subject?(d(),i("span",z,r(s.$t(o(t).errors.subject)),1)):u("",!0)]),e("div",H,[n(m,{for:"companies",value:"Companies",class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"}),p(e("select",{"onUpdate:modelValue":l[1]||(l[1]=a=>o(t).company_id=a),name:"company_id",id:"companies",value:o(t).company_id,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(d(!0),i(x,null,h(b.user_companies,a=>(d(),i("option",{value:a.id},r(a.name),9,P))),256))],8,O),[[y,o(t).company_id]]),o(t).errors.company_id?(d(),i("span",I,r(s.$t(o(t).errors.company_id)),1)):u("",!0)]),e("div",J,[n(m,{for:"type",value:"Type",class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"}),p(e("select",{"onUpdate:modelValue":l[2]||(l[2]=a=>o(t).type=a),name:"type",id:"type",value:o(t).type,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(d(),i(x,null,h(g,a=>e("option",{value:a.type},r(s.$t(a.name)),9,Q)),64))],8,K),[[y,o(t).type]]),o(t).errors.type?(d(),i("span",R,r(s.$t(o(t).errors.type)),1)):u("",!0)]),e("div",W,[n(m,{for:"html-template",value:"HTML Template",class:"block uppercase text-blueGray-600 text-xs font-bold mb-2"}),e("div",X,[e("div",Y,[p(e("textarea",{id:"html-template","onUpdate:modelValue":l[3]||(l[3]=a=>o(t).email_template=a),class:"border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm w-full",ref:"input",rows:"20"},null,512),[[B,o(t).email_template]])])]),e("div",Z,[e("div",ee,[e("span",te," *"+r(s.$t("Available varibles"))+" : {{ name }}, {{ email }}, {{ company_name }}, {{ company_logo_url }}, {{ report_url }} ",1)])]),o(t).errors.email_template?(d(),i("span",oe,r(s.$t(o(t).errors.email_template)),1)):u("",!0)]),e("button",ae,r(s.$t("Create")),1)])])])],40,L)],2)])])]),_:1}))}};export{ce as default};
