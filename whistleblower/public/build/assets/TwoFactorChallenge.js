import{d as f,T as $,o as s,e as a,b as o,u as t,Z as w,w as y,a as d,F as n,f as l,t as i,i as v,n as V,p as x}from"./app.js";import{A as T}from"./AuthenticationCard.js";import{_ as I}from"./AuthenticationCardLogo.js";import{_ as g}from"./InputError.js";import{_ as k}from"./InputLabel.js";import{_ as U}from"./PrimaryButton.js";import{_ as b}from"./TextInput.js";import"./_plugin-vue_export-helper.js";const B={class:"mb-4 text-sm text-gray-600"},F=["onSubmit"],N={key:0},S={key:1},A={class:"flex items-center justify-end mt-4"},P=["onClick"],G={__name:"TwoFactorChallenge",setup(R){const r=f(!1),e=$({code:"",recovery_code:""}),p=f(null),_=f(null),h=async()=>{r.value^=!0,await x(),r.value?(p.value.focus(),e.code=""):(_.value.focus(),e.recovery_code="")},C=()=>{e.post(route("two-factor.login"))};return(c,u)=>(s(),a(n,null,[o(t(w),{title:"Two-factor Confirmation"}),o(T,null,{logo:y(()=>[o(I)]),default:y(()=>[d("div",B,[r.value?(s(),a(n,{key:1},[l(i(c.$t("Please confirm access to your account by entering one of your emergency recovery codes.")),1)],64)):(s(),a(n,{key:0},[l(i(c.$t("Please confirm access to your account by entering the authentication code provided by your authenticator application.")),1)],64))]),d("form",{onSubmit:v(C,["prevent"])},[r.value?(s(),a("div",S,[o(k,{for:"recovery_code",value:"Recovery Code"}),o(b,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:p,modelValue:t(e).recovery_code,"onUpdate:modelValue":u[1]||(u[1]=m=>t(e).recovery_code=m),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"]),o(g,{class:"mt-2",message:t(e).errors.recovery_code},null,8,["message"])])):(s(),a("div",N,[o(k,{for:"code",value:"Code"}),o(b,{id:"code",ref_key:"codeInput",ref:_,modelValue:t(e).code,"onUpdate:modelValue":u[0]||(u[0]=m=>t(e).code=m),type:"text",inputmode:"numeric",class:"mt-1 block w-full",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"]),o(g,{class:"mt-2",message:t(e).errors.code},null,8,["message"])])),d("div",A,[d("button",{type:"button",class:"text-sm text-gray-600 hover:text-gray-900 underline cursor-pointer",onClick:v(h,["prevent"])},[r.value?(s(),a(n,{key:1},[l(i(c.$t("Use an authentication code")),1)],64)):(s(),a(n,{key:0},[l(i(c.$t("Use a recovery code")),1)],64))],8,P),o(U,{class:V(["ml-4",{"opacity-25":t(e).processing}]),disabled:t(e).processing},{default:y(()=>[l(i(c.$t("Log in")),1)]),_:1},8,["class","disabled"])])],40,F)]),_:1})],64))}};export{G as default};
