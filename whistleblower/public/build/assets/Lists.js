import{d as _,T as I,x as S,o as c,c as y,w as o,a,n as B,t as l,b as n,l as G,q as T,u as i,e as b,g as A,F as U,h as g,j as z,f as p,y as D,z as F}from"./app.js";import{_ as L}from"./AppLayout.js";import{_ as M}from"./TableDropdownMyCompany.js";import{_ as N}from"./TextInput.js";import{D as O}from"./vue3-easy-data-table.es.js";import{_ as x}from"./DateFormat.js";import{_ as j}from"./InputLabel.js";import{_ as P}from"./_plugin-vue_export-helper.js";import"./LanguageSwitcher.js";const q=d=>(D("data-v-a396c268"),d=d(),F(),d),E={class:"flex flex-wrap mt-4"},H={class:"w-full mb-12 px-4"},J={class:"rounded-t bg-white mb-0 px-6 py-6"},K={class:"flex flex-col justify-between lg:flex-row text-center"},Q={class:"text-blueGray-700 text-xl font-bold whitespace-nowrap mr-2"},R={class:"relative flex"},W={class:"relative flex inline-flex"},X=["value"],Y={disabled:"",value:""},Z=["value"],ee={key:0,class:"text-red-600"},ae={class:"relative"},te=q(()=>a("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[a("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[a("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),se={class:"block w-full overflow-x-auto"},re={class:"player-wrapper"},oe=["src"],le={__name:"Lists",props:{userCompanies:Array,companies:Array,color:{default:"light",validator:function(d){return["light","dark"].indexOf(d)!==-1}}},setup(d){const m=d,u=_(""),v=["name","id","created_at","updated_at"],w="name",k="desc",C=[{text:"Users",value:"users",sortable:!0},{text:"Created",value:"created_at",sortable:!0},{text:"Updated",value:"updated_at",sortable:!0},{text:"Actions",value:"actions",sortable:!0}],r=I({name:"",active:1,company_id:0}),f=_([]);_("");const h=(t=0)=>{f.value=m.userCompanies.filter(s=>s.company_id===t)??[],localStorage.setItem("selectedOption",r.company_id)},$=t=>{if(t.confirm!==!1)return f.value=m.userCompanies.filter(s=>s.company_id===t.company_id&&s.id!==t.id)??[]};return S(()=>{r.company_id=localStorage.getItem("selectedOption")?parseInt(localStorage.getItem("selectedOption")):"",r.company_id&&h(r.company_id)}),(t,s)=>(c(),y(L,{title:"Platform Companies"},{default:o(()=>[a("div",E,[a("div",H,[a("div",{class:B([[d.color==="light"?"bg-white":"bg-emerald-900 text-white"],"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded"])},[a("div",J,[a("div",K,[a("h6",Q,l(t.$t("Users Companies")),1),a("div",R,[a("div",W,[n(j,{for:"companies",value:"Company",class:"flex items-center uppercase text-blueGray-600 text-sm font-medium font-bold"}),G(a("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>i(r).company_id=e),onChange:s[1]||(s[1]=e=>h(i(r).company_id)),name:"company_id",id:"companies",value:i(r).company_id,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-6 p-0 mx-4 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[a("option",Y,l(t.$t("Please select a company")),1),(c(!0),b(U,null,A(m.companies,e=>(c(),b("option",{value:e.id},l(e.name),9,Z))),256))],40,X),[[T,i(r).company_id]]),i(r).errors.company_id?(c(),b("span",ee,l(i(r).errors.company_id),1)):g("",!0)]),a("div",ae,[te,n(N,{id:"default-search",type:"search",class:"block w-full p-1 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",modelValue:u.value,"onUpdate:modelValue":s[2]||(s[2]=e=>u.value=e),"aria-placeholder":"search...",autofocus:""},null,8,["modelValue"])]),t.$page.props.user.permissions.includes("create-users-in-company")?(c(),y(i(z),{key:0,class:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150 ml-6",href:t.route("companies-user.add")},{default:o(()=>[p(l(t.$t("Add")),1)]),_:1},8,["href"])):g("",!0)])])]),a("div",se,[n(i(O),{"show-index":"",headers:C,items:f.value,"search-field":v,"search-value":u.value,"sort-by":w,"sort-type":k,"table-class-name":"items-center w-full bg-transparent border-collapse md:min-w-full table","header-class-name":"companies-header","header-item-class-name":"bg-blueGray-50 text-blueGray-500 border-blueGray-100 x-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left px-6","body-row-class-name":"","body-expand-row-class-name":"","body-item-class-name":"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left","rows-per-page-message":t.$t("rows per page:")},{"header-users":o(e=>[p(l(t.$t(e.text)),1)]),"header-created_at":o(e=>[p(l(t.$t(e.text)),1)]),"header-updated_at":o(e=>[p(l(t.$t(e.text)),1)]),"header-actions":o(e=>[p(l(t.$t(e.text)),1)]),"item-actions":o(({id:e,companies:V})=>[n(M,{id:e,company_id:V.id,group:"companies-user",permissionGroup:"user-company",view:!1,edit:!1,onFreshCompany:$},null,8,["id","company_id"])]),"item-users":o(({users:e})=>[a("div",re,[a("img",{class:"avator",src:e.profile_photo_url,alt:""},null,8,oe),a("span",null,l(e.name),1)])]),"item-created_at":o(({created_at:e})=>[n(x,{date:e,hasTime:"true"},null,8,["date"])]),"item-updated_at":o(({updated_at:e})=>[n(x,{date:e,hasTime:"true"},null,8,["date"])]),_:1},8,["items","search-value","rows-per-page-message"])])],2)])])]),_:1}))}},be=P(le,[["__scopeId","data-v-a396c268"]]);export{be as default};
