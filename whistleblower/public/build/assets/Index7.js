import{d as m,T as F,k as U,o as c,c as J,w as r,a as s,n as M,t as o,b as u,i as b,f as n,e as A,l as w,q as C,F as I,g as _,h as B,u as x,j as E,y as L,z as N}from"./app.js";import{_ as z}from"./AppLayout.js";import{_ as X}from"./TableDropdown.js";import{_ as T}from"./TextInput.js";import{D as K}from"./vue3-easy-data-table.es.js";import{_ as D}from"./Text.js";import"./File.js";import"./index14.js";import{_ as O}from"./_plugin-vue_export-helper.js";import"./LanguageSwitcher.js";const H=d=>(L("data-v-31ff4138"),d=d(),N(),d),q={class:"flex flex-wrap mt-4"},P={class:"w-full mb-12 px-4"},W={class:"rounded-t bg-white mb-0 px-6 py-6"},Z={class:"text-center flex justify-between"},R={class:"text-blueGray-700 text-xl font-bold mr-2"},$={class:"relative flex"},ee={class:"relative flex mr-3"},te=H(()=>s("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[s("svg",{"aria-hidden":"true",class:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),se=H(()=>s("div",{class:"relative inline-flex"},null,-1)),ae=["onClick"],re={class:"block w-full overflow-x-auto"},oe={class:"filter-column flex align-middle"},le={key:0,class:"filter-menu p-3 z-2 absolute bg-white border border-blueGray-300"},ie={value:"all"},ne=["value"],de={class:"filter-column flex align-middle"},ce={key:0,class:"filter-menu p-3 z-2 absolute bg-white border border-blueGray-300"},ue={value:"all"},Ae=["value"],me=["innerHTML"],pe={class:"text-xs whitespace-normal p-4 text-left"},fe={__name:"Index",props:{user_company:Array,occurrences:Array,companies:Array,medias:Array,categories:Array,departments:Array,severity_types:Array,color:{default:"light",validator:function(d){return["light","dark"].indexOf(d)!==-1}}},setup(d){const i=d,h=m(""),k=["topic","id","description","classification","categories.name","departments.name","status","actions"],Q="id",S="desc",V=[{text:"Topic",value:"topic",sortable:!0},{text:"Classification",value:"classification",sortable:!0,width:150},{text:"Categories",value:"categories.name",sortable:!0,width:150},{text:"Department",value:"departments.name",sortable:!0,width:150},{text:"Severity",value:"severity",sortable:!0,width:100},{text:"Status",value:"status",sortable:!0,width:100},{text:"Actions",value:"actions",sortable:!0,width:100}];i.occurrences;const y=F({company_slug:i.user_company.slug}),v=m(!1),p=m("all"),g=m(!1),f=m("all"),G=U(()=>{const t=[];return p.value!=="all"&&t.push({field:"categories.name",comparison:"=",criteria:p.value}),f.value!=="all"&&t.push({field:"departments.name",comparison:"=",criteria:f.value}),t}),j=()=>{y.get(route("occurrences.create"),y.company_slug)},Y=(t,a)=>{let e="";switch(t){case 1:e='<span class="text-gray-800 dark:text-gray-400">'+a(i.severity_types[t])+"</span>";break;case 2:e='<span class="text-blue-800 dark:text-blue-400">'+a(i.severity_types[t])+"</span>";break;case 3:e='<span class="text-green-800 dark:text-green-400">'+a(i.severity_types[t])+"</span>";break;case 4:e='<span class="text-yellow-800 dark:text-yellow-400">'+a(i.severity_types[t])+"</span>";break;case 5:e='<span class="text-red-800 dark:text-red-400">'+a(i.severity_types[t])+"</span>";break;default:e=""}return e};return(t,a)=>(c(),J(z,{title:"Platform Companies"},{default:r(()=>[s("div",q,[s("div",P,[s("div",{class:M([[d.color==="light"?"bg-white":"bg-emerald-900 text-white"],"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded"])},[s("div",W,[s("div",Z,[s("h6",R,o(t.$t("Occurrences")),1),s("div",$,[s("div",ee,[te,u(T,{id:"default-search",type:"search",class:"block w-full p-1 pl-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e),"aria-placeholder":"search...",autofocus:""},null,8,["modelValue"])]),se,s("button",{onClick:b(j,["prevent"]),class:"text-white font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150 bg-emerald-500 active:bg-emerald-600",type:"submit"},o(t.$t("New")),9,ae)])])]),s("div",re,[u(x(K),{"show-index":"",headers:V,items:i.occurrences,"search-field":k,"search-value":h.value,"sort-by":Q,"sort-type":S,"table-class-name":"items-center w-full bg-transparent border-collapse md:min-w-full table","header-class-name":"categories-header","header-item-class-name":"bg-blueGray-50 text-blueGray-500 border-blueGray-100 x-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left px-6","body-row-class-name":"occurences-rows","body-expand-row-class-name":"","body-item-class-name":"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-normal p-4 text-left item-content","rows-per-page-message":t.$t("rows per page:"),"filter-options":x(G)},{"header-topic":r(e=>[n(o(t.$t(e.text)),1)]),"header-classification":r(e=>[n(o(t.$t(e.text)),1)]),"header-categories.name":r(e=>[s("div",oe,[s("img",{class:"filter-icon mr-2 w-5",onClick:a[1]||(a[1]=b(l=>v.value=!v.value,["stop"])),alt:"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAx9JREFUaEPtmUuojVEUx383E0SRSFFIGSAlDBiIKAwYeIXyJvIoFInyKhQDBgh5K28GDLwjAxNJCkWEAQbEAGWi9Ne6+tzznfOt/e1zrnPz7dG95/zXf+3/XmuvvfY+DbTw0dDC589/IaAvsAqYAHSuYcQ+A9eBM8Blr5+sCGjy54B+XsIq4D4BY4GHHq4sAYeA+UZ0DHjrIc2J6QHMMdvDwAIPT5aAJ7b6m4FNHsJIjHxsBJ4C/T1cWQI+AF2B5hag/dCpGgK2A2uB+8AY4JuHNCemnW3iYcBpYIaHJysCI4A7RnQAWOwhzYnZDywy26nAeQ9PlgBxbLAU0t/LgL0e4kDMUmCP2WgPbPHaewSIS6sxGfhhqXTP68CBG26p0xq4AExx2PyBeAX0NCd9gAcm4kuIozLYjsY7BHhhvG9CeL0CxDk+cUIeSZwPIf6aYlXv59mHOumvhJKFCBD3OmCrOVkJ7A51mMCvAHbZ/+uBbXm4QgXIh0rcNOCnhfx2DsejLHVaWe8zPQfHb5M8ArqZc/VHj0zEx4AJqCFU0zbQTlydL+8C7P+C5hEgAjVbV43pBDA7YALHgVmGHwdcC7AtgeYVIKLVwA5jVB3f55jIXEAFQGMNsNNhUxESI0DEWv2ZwCtgKJCVSjeB0cDJRBSiNMQKmAhctBlMAi5VmI3OkOf2vSKh9lxjENA+Q4XuBl/TMLECxPkdaAssT7QDab5UaU7ZFyoAzwAdkK8dIZCAwbUSoGZPTV9Wy93Y62sejQvXG3jpEFD2flCNCMQI0Ny1hySk0rhhLX0Jph4EOAJQHlIIsAtP3j0QtfrJzRRDFLsHYnzn6oWaOowRoDKqdyfdByqNu8DIeiyjA4DHjhDoktOrHgW0AZY4TuL3wMF6FOBY/MqQoowWZTQyif51CnUAbllLXUlK2afGagg4as/iCwE9x5cbad2ot4zqotSlVlVIfX53e/DSgRMiQFhdK1N7/QTRWUBvpyWjGhHwZnFaBLy2ZXGFgIAlLCJQ7IGAdEmDtvgUkij96qkfMar2i2dzVqHIAKabFwJqsqwBpL8AiSSfMe3JHmMAAAAASUVORK5CYII="}),n(" "+o(t.$t(e.text))+" ",1),v.value?(c(),A("div",le,[w(s("select",{class:"category-selector p-1 text-xs","onUpdate:modelValue":a[2]||(a[2]=l=>p.value=l),name:"category"},[s("option",ie,o(t.$t("All")),1),(c(!0),A(I,null,_(i.categories,l=>(c(),A("option",{value:l.name},o(t.$t(l.name)),9,ne))),256))],512),[[C,p.value]])])):B("",!0)])]),"header-departments.name":r(e=>[s("div",de,[s("img",{class:"filter-icon mr-2 w-5",onClick:a[3]||(a[3]=b(l=>g.value=!g.value,["stop"])),alt:"",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAx9JREFUaEPtmUuojVEUx383E0SRSFFIGSAlDBiIKAwYeIXyJvIoFInyKhQDBgh5K28GDLwjAxNJCkWEAQbEAGWi9Ne6+tzznfOt/e1zrnPz7dG95/zXf+3/XmuvvfY+DbTw0dDC589/IaAvsAqYAHSuYcQ+A9eBM8Blr5+sCGjy54B+XsIq4D4BY4GHHq4sAYeA+UZ0DHjrIc2J6QHMMdvDwAIPT5aAJ7b6m4FNHsJIjHxsBJ4C/T1cWQI+AF2B5hag/dCpGgK2A2uB+8AY4JuHNCemnW3iYcBpYIaHJysCI4A7RnQAWOwhzYnZDywy26nAeQ9PlgBxbLAU0t/LgL0e4kDMUmCP2WgPbPHaewSIS6sxGfhhqXTP68CBG26p0xq4AExx2PyBeAX0NCd9gAcm4kuIozLYjsY7BHhhvG9CeL0CxDk+cUIeSZwPIf6aYlXv59mHOumvhJKFCBD3OmCrOVkJ7A51mMCvAHbZ/+uBbXm4QgXIh0rcNOCnhfx2DsejLHVaWe8zPQfHb5M8ArqZc/VHj0zEx4AJqCFU0zbQTlydL+8C7P+C5hEgAjVbV43pBDA7YALHgVmGHwdcC7AtgeYVIKLVwA5jVB3f55jIXEAFQGMNsNNhUxESI0DEWv2ZwCtgKJCVSjeB0cDJRBSiNMQKmAhctBlMAi5VmI3OkOf2vSKh9lxjENA+Q4XuBl/TMLECxPkdaAssT7QDab5UaU7ZFyoAzwAdkK8dIZCAwbUSoGZPTV9Wy93Y62sejQvXG3jpEFD2flCNCMQI0Ny1hySk0rhhLX0Jph4EOAJQHlIIsAtP3j0QtfrJzRRDFLsHYnzn6oWaOowRoDKqdyfdByqNu8DIeiyjA4DHjhDoktOrHgW0AZY4TuL3wMF6FOBY/MqQoowWZTQyif51CnUAbllLXUlK2afGagg4as/iCwE9x5cbad2ot4zqotSlVlVIfX53e/DSgRMiQFhdK1N7/QTRWUBvpyWjGhHwZnFaBLy2ZXGFgIAlLCJQ7IGAdEmDtvgUkij96qkfMar2i2dzVqHIAKabFwJqsqwBpL8AiSSfMe3JHmMAAAAASUVORK5CYII="}),n(" "+o(t.$t(e.text))+" ",1),g.value?(c(),A("div",ce,[w(s("select",{class:"department-selector p-1 text-xs","onUpdate:modelValue":a[4]||(a[4]=l=>f.value=l),name:"department"},[s("option",ue,o(t.$t("All")),1),(c(!0),A(I,null,_(i.departments,l=>(c(),A("option",{value:l.name},o(t.$t(l.name)),9,Ae))),256))],512),[[C,f.value]])])):B("",!0)])]),"header-status":r(e=>[n(o(t.$t(e.text)),1)]),"header-actions":r(e=>[n(o(t.$t(e.text)),1)]),"item-categories.name":r(({categories:e})=>[n(o(t.$t(e.name)),1)]),"item-departments.name":r(({departments:e})=>[n(o(t.$t(e.name)),1)]),"item-severity":r(({severity:e})=>[s("div",{innerHTML:Y(e,t.$t)},null,8,me)]),"item-status":r(({status:e})=>[n(o(t.$t(e)),1)]),"item-topic":r(e=>[u(x(E),{href:t.route("occurrences.show",e.id)},{default:r(()=>[u(D,{occurrences:e,encryptedText:e.topic},null,8,["occurrences","encryptedText"])]),_:2},1032,["href"])]),expand:r(e=>[s("div",pe,[u(D,{occurrences:e,encryptedText:e.description},null,8,["occurrences","encryptedText"])])]),"item-actions":r(({id:e})=>[u(X,{id:e,edit:!1,group:"occurrences"},null,8,["id"])]),_:1},8,["items","search-value","rows-per-page-message","filter-options"])])],2)])])]),_:1}))}},Be=O(fe,[["__scopeId","data-v-31ff4138"]]);export{Be as default};
